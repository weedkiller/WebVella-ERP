import{r as e,h as l}from"./p-00c55fa7.js";class o{constructor(){this.type=0,this.end_type=0,this.end_date=null,this.end_count=1,this.repeat_period_type=0,this.interval=1,this.timespan_start=null,this.timespan_end=null,this.allow_monday=!0,this.allow_tuesday=!0,this.allow_wednesday=!0,this.allow_thursday=!0,this.allow_friday=!0,this.allow_saturday=!0,this.allow_sunday=!0,this.repeat_month_type=0,this.recurrence_change_type=0}}const a=class{constructor(l){e(this,l),this.recurrenceTemplate=null,this.templateDefault=null,this.typeOptions=null,this.endTypeOptions=null,this.periodTypeOptions=null,this.changeTypeOptions=null,this.recurrence=new o,this.typeSelectOptions=new Array,this.endTypeSelectOptions=new Array,this.periodTypeSelectOptions=new Array,this.changeTypeSelectOptions=new Array,this.hiddenValue=null,this.initialType=0}componentWillLoad(){this.recurrence=this.recurrenceTemplate?JSON.parse(this.recurrenceTemplate):JSON.parse(this.templateDefault),this.typeSelectOptions=JSON.parse(this.typeOptions),this.endTypeSelectOptions=JSON.parse(this.endTypeOptions),this.periodTypeSelectOptions=JSON.parse(this.periodTypeOptions),this.changeTypeSelectOptions=JSON.parse(this.changeTypeOptions),this.initialType=this.recurrence.type,this.hiddenValue=JSON.stringify(this.recurrence)}valueChangeHandler(e,l,o){let a=this;var s=e.target.value;switch(o){case"number":case"int":a.recurrence[l]=parseInt(s);break;case"date":a.recurrence[l]=s;break;case"bool":a.recurrence[l]=!!e.target.checked;break;case"string":a.recurrence[l]=s}a.hiddenValue=JSON.stringify(a.recurrence)}render(){let e=this;return l("div",null,l("input",{type:"hidden",value:e.hiddenValue,name:"recurrence_template"}),l("div",{class:"form-group wv-field label-horizontal row no-gutters form"},l("label",{class:"col-12 col-sm-auto col-form-label label-horizontal pr-0 pr-sm-2"},"Repeat:"),l("div",{class:"col"},l("select",{class:"form-control form-control-sm",onChange:l=>e.valueChangeHandler(l,"type","int")},e.typeSelectOptions.map((function(o,a){return l("option",{key:a,value:o.value,selected:o.value==e.recurrence.type.toString()},o.label)}))))),l("div",{class:"mt-3 "+(7===e.recurrence.type?"":"d-none")},l("hr",{class:"divider mt-2 mb-2"}),l("div",{class:"form-group wv-field label-horizontal row no-gutters form"},l("label",{class:"col-12 col-sm-auto col-form-label label-horizontal pr-0 pr-sm-2"},"Repeat every:"),l("div",{class:"col"},l("div",{class:"input-group"},l("input",{class:"form-control flex-grow-0",style:{width:"80px"},value:e.recurrence.interval,onChange:l=>e.valueChangeHandler(l,"interval","int")}),l("span",{class:"input-group-prepend input-group-append"},l("span",{class:"input-group-text p-0",style:{width:"5px"}})),l("select",{class:"form-control form-control-sm  flex-grow-0",style:{width:"100px"},onChange:l=>e.valueChangeHandler(l,"repeat_period_type","int")},e.periodTypeSelectOptions.map((function(o,a){return l("option",{key:a,value:o.value,selected:o.value==e.recurrence.repeat_period_type.toString()},o.label)})))))),l("div",{class:"form-group wv-field label-horizontal row no-gutters form mt-3 "+(4===e.recurrence.repeat_period_type?"":"d-none")},l("label",{class:"col-12 col-sm-auto col-form-label label-horizontal pr-0 pr-sm-2"}),l("div",{class:"col"},l("div",{class:"form-check form-check-inline"},l("input",{class:"form-check-input",type:"checkbox",id:"Monday",value:"true",checked:e.recurrence.allow_monday,onChange:l=>e.valueChangeHandler(l,"allow_monday","bool")}),l("label",{class:"form-check-label",htmlFor:"Monday"},"Monday")),l("div",{class:"form-check form-check-inline"},l("input",{class:"form-check-input",type:"checkbox",id:"Tuesday",value:"true",checked:e.recurrence.allow_tuesday,onChange:l=>e.valueChangeHandler(l,"allow_tuesday","bool")}),l("label",{class:"form-check-label",htmlFor:"Tuesday"},"Tuesday")),l("div",{class:"form-check form-check-inline"},l("input",{class:"form-check-input",type:"checkbox",id:"Wednesday",value:"true",checked:e.recurrence.allow_wednesday,onChange:l=>e.valueChangeHandler(l,"allow_wednesday","bool")}),l("label",{class:"form-check-label",htmlFor:"Wednesday"},"Wednesday")),l("div",{class:"form-check form-check-inline"},l("input",{class:"form-check-input",type:"checkbox",id:"Thursday",value:"true",checked:e.recurrence.allow_thursday,onChange:l=>e.valueChangeHandler(l,"allow_thursday","bool")}),l("label",{class:"form-check-label",htmlFor:"Thursday"},"Thursday")),l("div",{class:"form-check form-check-inline"},l("input",{class:"form-check-input",type:"checkbox",id:"Friday",value:"true",checked:e.recurrence.allow_friday,onChange:l=>e.valueChangeHandler(l,"allow_friday","bool")}),l("label",{class:"form-check-label",htmlFor:"Friday"},"Friday")),l("div",{class:"form-check form-check-inline"},l("input",{class:"form-check-input",type:"checkbox",id:"Saturday",value:"true",checked:e.recurrence.allow_saturday,onChange:l=>e.valueChangeHandler(l,"allow_saturday","bool")}),l("label",{class:"form-check-label",htmlFor:"Saturday"},"Saturday")),l("div",{class:"form-check form-check-inline"},l("input",{class:"form-check-input",type:"checkbox",id:"Sunday",value:"true",checked:e.recurrence.allow_sunday,onChange:l=>e.valueChangeHandler(l,"allow_sunday","bool")}),l("label",{class:"form-check-label",htmlFor:"Sunday"},"Sunday")))),l("div",{class:"form-group wv-field label-horizontal row no-gutters form mt-3 "+(5===e.recurrence.repeat_period_type?"":"d-none")},l("label",{class:"col-12 col-sm-auto col-form-label label-horizontal pr-0 pr-sm-2"}),l("div",{class:"col"},l("div",{class:"form-check form-check-inline"},l("input",{class:"form-check-input",type:"radio",name:"monthPeriodOptions",id:"sameDate",value:"0",checked:0===e.recurrence.repeat_month_type,onChange:l=>e.valueChangeHandler(l,"repeat_month_type","int")}),l("label",{class:"form-check-label",htmlFor:"sameDate"},"same date")),l("div",{class:"form-check form-check-inline"},l("input",{class:"form-check-input",type:"radio",name:"monthPeriodOptions",id:"sameWeekDay",value:"1",checked:1===e.recurrence.repeat_month_type,onChange:l=>e.valueChangeHandler(l,"repeat_month_type","int")}),l("label",{class:"form-check-label",htmlFor:"sameWeekDay"},"same week day")))),l("hr",{class:"divider mt-2 mb-2"})),l("div",{class:"mt-3 "+(0===e.initialType?"d-none":"")},l("div",{class:"form-group wv-field label-horizontal row no-gutters form"},l("label",{class:"col-12 col-sm-auto col-form-label label-horizontal pr-0 pr-sm-2"},"Apply to:"),l("div",{class:"col"},l("select",{class:"form-control form-control-sm",onChange:l=>e.valueChangeHandler(l,"recurrence_change_type","int")},e.changeTypeSelectOptions.map((function(o,a){return l("option",{key:a,value:o.value,selected:o.value==e.recurrence.recurrence_change_type.toString()},o.label)})))))))}};export{a as wv_recurrence_template};